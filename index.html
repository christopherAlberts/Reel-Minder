<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reel Minder - Movie & TV Series Tracker</title>
    <link rel="stylesheet" href="styles.css?v=6.0">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="config.js"></script>
    
    <!-- Google AdSense Auto Ads -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1014136834676352" crossorigin="anonymous"></script>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
                    <h1 class="logo">
                        <i class="fas fa-film"></i>
                        Reel Minder
                    </h1>
                    <p class="tagline" id="tagline"></p>
                </div>
                <nav class="nav">
                    <button class="nav-btn active" data-view="libraries">
                        <i class="fas fa-folder"></i>
                        Libraries
                    </button>
                    <button class="nav-btn" data-view="find-something">
                        <i class="fas fa-random"></i>
                        Find Something to Watch
                    </button>
                    <button class="nav-btn" data-view="news">
                        <i class="fas fa-newspaper"></i>
                        News
                    </button>
                    <div class="settings-dropdown">
                        <button class="nav-btn" id="settings-nav-btn">
                            <i class="fas fa-cog"></i>
                            <span class="settings-text">Settings</span>
                        </button>
                        <div class="dropdown-menu" id="header-settings-dropdown-menu">
                            <button class="dropdown-item" id="header-dark-mode-toggle">
                                <i class="fas fa-moon"></i>
                                Dark Mode
                            </button>
                            <button class="dropdown-item" id="header-export-data-btn">
                                <i class="fas fa-download"></i>
                                Export Data
                            </button>
                            <button class="dropdown-item" id="header-import-data-btn">
                                <i class="fas fa-upload"></i>
                                Import Data
                            </button>
                            <button class="dropdown-item" id="header-show-data-info-btn">
                                <i class="fas fa-info-circle"></i>
                                Data Storage Info
                            </button>
                            <button class="dropdown-item" id="header-buy-coffee-btn">
                                <i class="fas fa-coffee"></i>
                                Buy me a coffee
                            </button>
                        </div>
                    </div>
                </nav>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Libraries View -->
            <div id="libraries-view" class="view active">
                <div class="view-header">
                    <h2>My Libraries</h2>
                    <div class="library-controls">
                        <div class="library-controls-top">
                            <select id="library-sort" class="sort-select">
                                <option value="name">Sort by Name</option>
                                <option value="recent">Recently Added</option>
                                <option value="movies">Most Content</option>
                            </select>
                            <button class="btn btn-primary" id="create-library-btn">
                                <i class="fas fa-plus"></i>
                                Create Library
                            </button>
                        </div>
                    </div>
                </div>
                <div class="libraries-grid" id="libraries-grid">
                    <!-- Libraries will be dynamically loaded here -->
                </div>
            </div>


            <!-- Search View -->
            <div id="search-view" class="view">
                <div class="search-container">
                    <div class="search-box">
                        <input type="text" id="search-input" placeholder="Search for movies or TV series...">
                        <button class="search-btn" id="search-btn">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    <div class="search-filters">
                        <select id="media-type">
                            <option value="movie">Movies</option>
                            <option value="tv">TV Series</option>
                            <option value="all">All</option>
                        </select>
                    </div>
                </div>
                <div class="search-results" id="search-results">
                    <!-- Search results will be displayed here -->
                </div>
            </div>

            <!-- Find Something to Watch View -->
            <div id="find-something-view" class="view">
                <div class="find-something-container">
                    <div class="find-something-header">
                        <h2>Find Something to Watch</h2>
                        <p>Discover interesting movies and TV shows to add to your libraries</p>
                    </div>
                    
                    <!-- Search Section -->
                    <div class="search-section">
                        <!-- Main Search Row -->
                        <div class="search-input-container">
                            <input type="text" id="find-search-input" placeholder="Search for movies or TV shows..." class="search-input">
                            <button id="find-search-btn" class="search-btn">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                        
                        <!-- Advanced Filters Toggle -->
                        <div class="advanced-filters-toggle">
                            <button id="toggle-advanced-filters" class="btn btn-secondary toggle-btn">
                                <i class="fas fa-filter"></i>
                                <span>Advanced Filters</span>
                                <i class="fas fa-chevron-down toggle-icon"></i>
                            </button>
                        </div>
                        
                        <!-- Advanced Filters (Collapsible) -->
                        <div class="advanced-filters" id="advanced-filters" style="display: none;">
                            <div class="filter-row">
                                <div class="filter-group">
                                    <label for="content-type-select">Content Type</label>
                                    <select id="content-type-select" class="filter-dropdown">
                                        <option value="all">All Content</option>
                                        <option value="movie">Movies Only</option>
                                        <option value="tv">TV Shows Only</option>
                                    </select>
                                </div>
                                <div class="filter-group">
                                    <label for="genre-select">Genre</label>
                                    <select id="genre-select" class="filter-dropdown">
                                        <option value="">All Genres</option>
                                    </select>
                                </div>
                                <div class="filter-group">
                                    <label for="language-select">Language</label>
                                    <select id="language-select" class="filter-dropdown">
                                        <option value="">All Languages</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="filter-row">
                                <div class="filter-group">
                                    <label for="year-from">From Year</label>
                                    <input type="number" id="year-from" class="filter-input" placeholder="1900" min="1900" max="2030">
                                </div>
                                <div class="filter-group">
                                    <label for="year-to">To Year</label>
                                    <input type="number" id="year-to" class="filter-input" placeholder="2024" min="1900" max="2030">
                                </div>
                                <div class="filter-group">
                                    <label for="min-rating">Min Rating</label>
                                    <input type="number" id="min-rating" class="filter-input" placeholder="0" min="0" max="10" step="0.1">
                                </div>
                            </div>
                            
                            <div class="filter-row">
                                <div class="filter-group">
                                    <label for="sort-select">Sort By</label>
                                    <select id="sort-select" class="filter-dropdown">
                                        <option value="popularity.desc">Popularity</option>
                                        <option value="vote_average.desc">Rating</option>
                                        <option value="release_date.desc">Release Date</option>
                                        <option value="title.asc">Title A-Z</option>
                                    </select>
                                </div>
                                <div class="filter-group">
                                    <label for="runtime-select">Runtime</label>
                                    <select id="runtime-select" class="filter-dropdown">
                                        <option value="">Any Length</option>
                                        <option value="short">Short (< 90 min)</option>
                                        <option value="medium">Medium (90-150 min)</option>
                                        <option value="long">Long (> 150 min)</option>
                                    </select>
                                </div>
                                <div class="filter-group">
                                    <label for="status-select">Status</label>
                                    <select id="status-select" class="filter-dropdown">
                                        <option value="">Any Status</option>
                                        <option value="released">Released</option>
                                        <option value="upcoming">Upcoming</option>
                                    </select>
                                </div>
                            </div>
                            
                            
                            <div class="filter-row">
                                <div class="filter-group">
                                    <button id="clear-filters-btn" class="btn btn-secondary clear-filters-btn">
                                        <i class="fas fa-times"></i>
                                        Clear All Filters
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    
                    <!-- Quick Discovery Buttons -->
                    <div class="discovery-quick-actions">
                        <button class="discovery-quick-btn" id="trending-btn">
                            <i class="fas fa-fire"></i>
                            <span>Trending</span>
                        </button>
                        <button class="discovery-quick-btn" id="top-rated-btn">
                            <i class="fas fa-star"></i>
                            <span>Top Rated</span>
                        </button>
                        <button class="discovery-quick-btn" id="upcoming-btn">
                            <i class="fas fa-calendar"></i>
                            <span>Coming Soon</span>
                        </button>
                        <button class="discovery-quick-btn" id="random-btn">
                            <i class="fas fa-dice"></i>
                            <span>Surprise Me</span>
                        </button>
                        <button class="discovery-quick-btn" id="trailers-btn">
                            <i class="fas fa-play-circle"></i>
                            <span>Trailers</span>
                        </button>
                    </div>
                    
                    <!-- Discovery Results -->
                    <div class="discovery-results" id="discovery-results">
                        <div class="discovery-welcome">
                            <i class="fas fa-search"></i>
                            <h3>Ready to Discover?</h3>
                            <p>Click one of the buttons above to start finding great content!</p>
                        </div>
                    </div>
                    
                    <!-- Trailers Section -->
                    <div class="trailers-section" id="trailers-section" style="display: none;">
                        <div class="trailers-header">
                            <h3>Latest Trailers</h3>
                            <p>Watch the latest movie and TV show trailers</p>
                        </div>
                        
                        <div class="trailers-loading" id="trailers-loading" style="display: none;">
                            <div class="spinner"></div>
                            <p>Loading trailers...</p>
                        </div>
                        
                        <div class="trailers-error" id="trailers-error" style="display: none;">
                            <i class="fas fa-exclamation-triangle"></i>
                            <p>Failed to load trailers. Please try again later.</p>
                            <button class="btn btn-primary" id="retry-trailers-btn">Retry</button>
                        </div>
                        
                        <div class="trailers-grid" id="trailers-grid">
                            <!-- Trailers will be displayed here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- News View -->
            <div id="news-view" class="view">
                <div class="news-container">
                    <div class="news-header">
                        <h2>Latest Movie & TV News</h2>
                        <p>Stay updated with the latest entertainment news</p>
                    </div>
                    
                    <!-- News Categories -->
                    <div class="news-categories">
                        <button class="news-category-btn active" data-category="all">
                            <i class="fas fa-globe"></i>
                            All News
                        </button>
                        <button class="news-category-btn" data-category="movies">
                            <i class="fas fa-film"></i>
                            Movies
                        </button>
                        <button class="news-category-btn" data-category="tv">
                            <i class="fas fa-tv"></i>
                            TV Shows
                        </button>
                        <button class="news-category-btn" data-category="celebrities">
                            <i class="fas fa-star"></i>
                            Celebrities
                        </button>
                    </div>
                    
                    <!-- News Search -->
                    <div class="news-search-container">
                        <div class="news-search-box">
                            <input type="text" id="news-search-input" placeholder="Search for specific news...">
                            <button class="news-search-btn" id="news-search-btn">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>
                    
                <!-- News Results -->
                <div class="news-results" id="news-results">
                    <div class="news-loading" id="news-loading" style="display: none;">
                        <div class="spinner"></div>
                        <p>Loading latest news...</p>
                    </div>
                    <div class="news-error" id="news-error" style="display: none;">
                        <i class="fas fa-exclamation-triangle"></i>
                        <p>Failed to load news. Please try again later.</p>
                        <button class="btn btn-primary" id="retry-news-btn">Retry</button>
                    </div>
                    <div class="news-grid" id="news-grid">
                        <!-- News articles will be displayed here -->
                    </div>
                    <div class="news-load-more-container" id="news-load-more-container" style="display: none;">
                        <button class="btn btn-secondary news-load-more-btn" id="news-load-more-btn">
                            <i class="fas fa-plus"></i>
                            Load More News
                        </button>
                    </div>
                </div>
                </div>
            </div>

            <!-- Library Detail View -->
            <div id="library-detail-view" class="view">
                <div class="library-header">
                    <h2 id="library-title">Library Name</h2>
                </div>
                <div class="library-controls-row">
                    <div class="library-controls-left">
                        <button class="btn btn-secondary" id="back-to-libraries">
                            <i class="fas fa-arrow-left"></i>
                            Back to Libraries
                        </button>
                        <select id="movie-sort" class="sort-select">
                            <option value="name">Sort by Name</option>
                            <option value="recent">Recently Added</option>
                            <option value="rating">Highest Rating</option>
                        </select>
                    </div>
                <div class="library-controls-bottom">
                    <div class="library-actions-group">
                        <button class="btn btn-secondary" id="edit-library-btn">
                            <i class="fas fa-edit"></i>
                            Edit
                        </button>
                        <button class="btn btn-secondary" id="share-library-btn">
                            <i class="fas fa-share"></i>
                            Share
                        </button>
                        <div class="layout-switcher">
                            <button class="layout-btn active" data-layout="grid" title="Grid View">
                                <i class="fas fa-th"></i>
                            </button>
                            <button class="layout-btn" data-layout="poster" title="Poster View">
                                <i class="fas fa-image"></i>
                            </button>
                            <button class="layout-btn" data-layout="list" title="List View">
                                <i class="fas fa-list"></i>
                            </button>
                        </div>
                        <button class="btn btn-danger" id="delete-library-btn">
                            <i class="fas fa-trash"></i>
                            Delete
                        </button>
                    </div>
                </div>
                <div class="library-controls-right">
                    <button class="btn btn-primary add-btn" id="add-movie-to-library-btn">
                        <i class="fas fa-plus"></i>
                        Add Movie or TV
                    </button>
                    <button class="btn btn-secondary" id="get-recommendations-btn">
                        <i class="fas fa-lightbulb"></i>
                        Get Recommendations
                    </button>
                </div>
                </div>
                <div class="library-movies" id="library-movies">
                    <!-- Movies in library will be displayed here -->
                </div>
                
                <!-- Recommendations Section -->
                <div class="recommendations-section" id="recommendations-section" style="display: none;">
                    <div class="recommendations-header">
                        <h3>Recommended for You</h3>
                        <p>Based on your library content</p>
                    </div>
                    <div class="recommendations-grid" id="recommendations-grid">
                        <!-- Recommendations will be displayed here -->
                    </div>
                    <div class="recommendations-footer" id="recommendations-footer" style="display: none;">
                        <button class="btn btn-secondary" id="load-more-recommendations-btn">
                            <i class="fas fa-plus"></i>
                            Load More Recommendations
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <!-- Create/Edit Library Modal -->
    <div id="library-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="library-modal-title">Create Library</h3>
                <button class="close-btn" id="close-library-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="library-form">
                    <div class="form-group">
                        <label for="library-name">Library Name</label>
                        <input type="text" id="library-name" required>
                    </div>
                    <div class="form-group">
                        <label for="library-description">Description (Optional)</label>
                        <textarea id="library-description" rows="3"></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancel-library">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Library</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Movie Detail Modal -->
    <div id="movie-modal" class="modal">
        <div class="modal-content movie-modal-content">
            <div class="modal-header">
                <h3 id="movie-modal-title">Details</h3>
                <button class="close-btn" id="close-movie-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="movie-detail-content" id="movie-detail-content">
                    <!-- Movie details will be displayed here -->
                </div>
                
                <!-- Streaming Availability Section -->
                <div class="streaming-availability-section" id="streaming-availability-section" style="display: none;">
                    <div class="streaming-availability-header">
                        <h4><i class="fas fa-play-circle"></i> Where to Watch</h4>
                        <p>Available on these streaming services</p>
                    </div>
                    <div class="streaming-services-grid" id="streaming-services-grid">
                        <!-- Streaming service logos will be displayed here -->
                    </div>
                    <div class="streaming-unavailable" id="streaming-unavailable" style="display: none;">
                        <p><i class="fas fa-info-circle"></i> Currently not available on major streaming services</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Episodes Modal -->
    <div id="episodes-modal" class="modal">
        <div class="modal-content episodes-modal-content">
            <div class="modal-header">
                <h3 id="episodes-modal-title">Episodes</h3>
                <button class="close-btn" id="close-episodes-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="episodes-content" id="episodes-content">
                    <!-- Episodes will be displayed here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Add to Library Modal -->
    <div id="add-to-library-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add to Library</h3>
                <button class="close-btn" id="close-add-to-library-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="libraries-list" id="add-to-library-list">
                    <!-- Available libraries will be listed here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Search Modal -->
    <div id="search-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Search Movies & TV Series</h3>
                <button class="close-btn" id="close-search-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="search-container">
                    <div class="search-box">
                        <input type="text" id="modal-search-input" placeholder="Search for movies or TV series...">
                        <button class="search-btn" id="modal-search-btn">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    <div class="search-filters">
                        <select id="modal-media-type">
                            <option value="movie">Movies</option>
                            <option value="tv">TV Series</option>
                            <option value="all">All</option>
                        </select>
                    </div>
                </div>
                <div class="search-results" id="modal-search-results">
                    <!-- Search results will be displayed here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Share Modal -->
    <div id="share-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Share</h3>
                <button class="close-btn" id="close-share-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="share-content" id="share-content">
                    <!-- Share content will be displayed here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Data Storage Info Modal -->
    <div id="data-storage-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Data Storage Information</h3>
                <button class="close-btn" onclick="closeDataStorageModal()">&times;</button>
            </div>
            <div class="modal-body">
                <p><strong>Important:</strong> Your movie libraries and data are stored locally in your browser.</p>
                <p>This means:</p>
                <ul>
                    <li>✅ Your data stays private on your device</li>
                    <li>✅ No account or internet required after setup</li>
                    <li>⚠️ Clearing browser data will delete your libraries</li>
                    <li>⚠️ Data won't sync between devices</li>
                </ul>
                <p><strong>To keep your data safe:</strong></p>
                <ul>
                    <li>Don't clear browser data/cache</li>
                    <li>Export your libraries regularly using the Export button</li>
                    <li>Use the same browser on the same device</li>
                </ul>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="closeDataStorageModal()">I Understand</button>
            </div>
        </div>
    </div>

    <!-- Ad Banner (Bottom) - Fixed at bottom of screen -->
    <div class="ad-container ad-bottom">
        <!-- Google AdSense Banner Ad will appear here -->
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-1014136834676352"
             data-ad-slot="YOUR-AD-SLOT-ID"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
    </div>

    <!-- Hidden file input for import -->
    <input type="file" id="import-file-input" accept=".json" style="display: none;">

    <script src="script.js?v=6.7"></script>
</body>
</html>
